<app-modal-primeng
  [title]="accion"
  [showModal]="showModal"
  (accionBtnItem)="this.accionCloseForm.emit($event)"
  width="35rem"
  *ngIf="instructorForm"
>
  <form [formGroup]="instructorForm" class="grid mt-4">
    <div class="col-12">
      <div class="custom-flex-group">
        <p-dropdown
          [options]="tiposIdentificaciones"
          placeholder="Sele..."
          optionValue="iTipoIdentId"
          optionLabel="cTipoIdentSigla"
          [appendTo]="'body'"
          styleClass="w-full"
          [readonly]="action === 'editar'"
          formControlName="iTipoIdentId"
          tabindex="-1"
          [ngClass]="{
            'ng-invalid ng-dirty':
              instructorForm.get('iTipoIdentId')?.invalid &&
              instructorForm.get('iTipoIdentId')?.touched,
          }"
        ></p-dropdown>
        <input
          id="dni"
          type="text"
          re
          formControlName="cPersDocumento"
          [readonly]="action === 'editar'"
          pInputText
          class="flex-input"
          placeholder="Ingresar número"
          (keydown.enter)="buscarDni()"
          [ngClass]="{
            'ng-invalid ng-dirty':
              instructorForm.get('cPersDocumento')?.invalid &&
              instructorForm.get('cPersDocumento')?.touched,
          }"
        />
        <button
          pButton
          type="button"
          icon="pi pi-search"
          label="Buscar"
          [loading]="loadingBuscar"
          [disabled]="loadingBuscar || action === 'editar'"
          (click)="buscarDni()"
        ></button>
      </div>
    </div>

    <div class="col-12">
      <p-divider></p-divider>
      <p-inputGroup>
        <p-inputGroupAddon>
          <i class="pi pi-address-book"></i>
        </p-inputGroupAddon>
        <input
          id="name"
          type="text"
          pInputText
          placeholder="Nombre del Instructor"
          formControlName="cPersNombre"
          readonly
        />
      </p-inputGroup>
    </div>
    <div class="col-6">
      <p-inputGroup>
        <p-inputGroupAddon>
          <i class="pi pi-address-book"></i>
        </p-inputGroupAddon>
        <input
          id="name"
          type="text"
          pInputText
          placeholder="Apellido Paterno"
          formControlName="cPersPaterno"
          readonly
        />
      </p-inputGroup>
    </div>
    <div class="col-6">
      <p-inputGroup>
        <p-inputGroupAddon>
          <i class="pi pi-address-book"></i>
        </p-inputGroupAddon>
        <input
          id="name"
          type="text"
          pInputText
          placeholder="Apellido Materno"
          formControlName="cPersMaterno"
          readonly
        />
      </p-inputGroup>
    </div>
    <div class="col-12">
      <p-inputGroup>
        <p-inputGroupAddon>
          <i class="pi pi-home"></i>
        </p-inputGroupAddon>
        <input
          id="name"
          type="text"
          pInputText
          placeholder="Dirección"
          formControlName="cPersDireccion"
          [ngClass]="{
            'ng-invalid ng-dirty':
              instructorForm.get('cPersDireccion')?.invalid &&
              instructorForm.get('cPersDireccion')?.touched,
          }"
        />
      </p-inputGroup>
    </div>
    <div class="col-7">
      <p-inputGroup>
        <p-inputGroupAddon>
          <i class="pi pi-at"></i>
        </p-inputGroupAddon>
        <input
          id="name"
          type="text"
          pInputText
          placeholder="Correo Electrónico"
          formControlName="cPersCorreo"
          [ngClass]="{
            'ng-invalid ng-dirty':
              instructorForm.get('cPersCorreo')?.invalid &&
              instructorForm.get('cPersCorreo')?.touched,
          }"
        />
      </p-inputGroup>
    </div>
    <div class="col-5">
      <p-inputGroup>
        <p-inputGroupAddon>
          <i class="pi pi-phone"></i>
        </p-inputGroupAddon>
        <input
          id="name"
          type="text"
          pInputText
          placeholder="Celular"
          formControlName="cPersCelular"
          [ngClass]="{
            'ng-invalid ng-dirty':
              instructorForm.get('cPersCelular')?.invalid &&
              instructorForm.get('cPersCelular')?.touched,
          }"
        />
      </p-inputGroup>
    </div>
  </form>
  <div footer class="flex justify-content-end gap-2">
    <p-button label="Cancelar" severity="secondary" (onClick)="this.accionCloseForm.emit()" />
    <button
      type="submit"
      icon="pi pi-check"
      size="small"
      pButton
      [label]="action === 'editar' ? 'Editar Instructor' : 'Guardar Instructor'"
      [class]="action === 'editar' ? 'p-button-warning' : 'p-button-success'"
      (click)="action === 'editar' ? actualizarInstructor() : guardarInstructor()"
      [disabled]="instructorForm.invalid"
    ></button>
  </div>
</app-modal-primeng>
