<br />

<form [formGroup]="formDiscapacidad">
    <div class="grid p-fluid p-2">
        <div class="col-12">
            <p-messages [closable]="false" severity="info">
                <ng-template pTemplate="content">
                    <p>
                        Solo debe llenar esta sección si el estudiante tiene
                        alguna limitación o discapacidad
                        <strong>diagnosticada por un médico</strong>, de lo
                        contrario puede dejar esta sección en blanco y continuar
                        a la siguiente sección.
                    </p>
                </ng-template>
            </p-messages>
        </div>
        <div class="col-12 lg:col-6">
            <p-fieldset
                legend="Indique si el estudiante tiene alguna limitación o discapacidad"
            >
                <div
                    class="grid"
                    *ngIf="
                        controles_discapacidades &&
                        controles_discapacidades.length > 0
                    "
                >
                    <div
                        class="col-12"
                        *ngFor="
                            let discapacidad of discapacidades;
                            let i = index
                        "
                    >
                        <app-switch-input
                            [switchControl]="
                                $any(controles_discapacidades.at(i)).controls[
                                    'bDiscFicha'
                                ]
                            "
                            [addonLabel]="discapacidad['label']"
                            inputType="textarea"
                            [inputInitRows]="3"
                            [inputMinRows]="3"
                            [inputMaxRows]="6"
                            [inputControl]="
                                $any(controles_discapacidades.at(i)).controls[
                                    'cDiscFichaObs'
                                ]
                            "
                            inputPlaceholder="Especifique cuando fue diagnosticada, la severidad y si necesita apoyo o acomodaciones"
                            [infoAdicional]="bDiscFicha"
                        />
                        <ng-template #bDiscFicha>
                            Especifique cuando fue diagnosticada, la severidad y
                            si necesita apoyo o acomodaciones
                        </ng-template>
                    </div>
                </div>
            </p-fieldset>
        </div>
        <div class="col-12 lg:col-6">
            <p-fieldset
                legend="¿El estudiante está registrado en algún programa?"
            >
                <div class="grid">
                    <div class="col-12">
                        <app-switch-input
                            [switchControl]="
                                $any(formDiscapacidad).controls[
                                    'bFichaDGEstaEnCONADIS'
                                ]
                            "
                            addonLabel="CONADIS"
                            inputType="text"
                            [inputControl]="
                                $any(formDiscapacidad).controls[
                                    'cFichaDGCodigoCONADIS'
                                ]
                            "
                            [inputMaxlength]="50"
                            inputPlaceholder="Código de carnet *"
                        />
                    </div>
                    <div class="col-12">
                        <app-switch-input
                            [switchControl]="
                                $any(formDiscapacidad).controls[
                                    'bFichaDGEstaEnOMAPED'
                                ]
                            "
                            addonLabel="OMAPED"
                            inputType="text"
                            [inputControl]="
                                $any(formDiscapacidad).controls[
                                    'cFichaDGCodigoOMAPED'
                                ]
                            "
                            [inputMaxlength]="50"
                            inputPlaceholder="Código identificador o fecha de inscripción *"
                        />
                    </div>
                    <div class="col-12">
                        <app-switch-input
                            [switchControl]="
                                $any(formDiscapacidad).controls[
                                    'bOtroProgramaDiscapacidad'
                                ]
                            "
                            addonLabel="OTRO PROGRAMA"
                            inputType="text"
                            [inputControl]="
                                $any(formDiscapacidad).controls[
                                    'cOtroProgramaDiscapacidad'
                                ]
                            "
                            [inputMaxlength]="50"
                            inputPlaceholder="Especifique otro programa"
                        />
                    </div>
                </div>
            </p-fieldset>
        </div>
    </div>
</form>

<br />

<div class="flex justify-content-end gap-2">
    <div class="flex justify-content-end gap-2">
        <p-button
            label="Salir sin guardar"
            (onClick)="salir()"
            severity="secondary"
        />
        <p-button
            type="button"
            label="Actualizar y continuar"
            icon="pi pi-save"
            severity="success"
            (click)="actualizar()"
        />
    </div>
</div>
<p-toast></p-toast>
