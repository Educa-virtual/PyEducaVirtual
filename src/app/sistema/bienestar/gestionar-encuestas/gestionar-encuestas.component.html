<p-panel>
    <ng-template pTemplate="header">
        <span class="text-2xl text-uppercase">
            Gestionar encuestas de bienestar
        </span>
    </ng-template>
    <ng-template pTemplate="icons" class="flex justify-content-center">
        <div class="flex flex-wrap gap-2 justify-content-end">
            <button
                size="small"
                pButton
                pTooltip="Registrar encuesta"
                tooltipPosition="top"
                (click)="agregarEncuesta()"
                severity="success"
            >
                <i class="pi pi-plus"></i>
                <span class="ml-2 hidden sm:block">Registrar encuesta</span>
            </button>
        </div>
    </ng-template>

    <div class="grid mb-3">
        <div class="col-12">
            <p-inputGroup>
                <p-inputGroupAddon> Buscar </p-inputGroupAddon>
                <input
                    #filtro
                    type="text"
                    pInputText
                    (input)="filtrarEncuestas()"
                />
            </p-inputGroup>
        </div>
    </div>

    <app-table-primeng
        [columnas]="columnasTabla"
        [data]="encuestas_filtradas"
        (accionBtnItem)="accionBnt($event)"
        [actions]="accionesTabla"
        [showCaption]="false"
    />
</p-panel>

<p-dialog
    [draggable]="false"
    [maximizable]="true"
    [header]="dialog_header"
    [(visible)]="dialog_visible"
    [style]="{ width: '60vw' }"
    [modal]="true"
    [contentStyle]="{ overflow: 'auto' }"
    [breakpoints]="{ '1080px': '75vw', '640px': '100vw' }"
>
    <ng-content>
        <app-encuesta (es_visible)="dialogVisible($event)" />
    </ng-content>
</p-dialog>

<p-toast></p-toast>
