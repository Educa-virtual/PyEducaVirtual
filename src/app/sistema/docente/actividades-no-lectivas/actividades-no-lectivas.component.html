<div class="grid">
  <div class="col-12">
    <app-container-page
      title="ACTIVIDADES DE GESTIÓN"
      [actions]="actionsContainer"
      (accionBtnItem)="accionBtnItem($event)"
    >
      <p-messages [(value)]="mensaje" [enableService]="false" [closable]="false" />
      <div class="flex flex-row flex-wrap mb-3">
        <div class="flex">
          <p-inputGroup>
            <p-inputGroupAddon> Tipo de Actividad </p-inputGroupAddon>
            <p-dropdown
              [options]="tiposCargaNoLectivas"
              [(ngModel)]="selectActividad"
              optionLabel="cTipoCargaNoLectNombre"
              optionValue="iTipoCargaNoLectId"
              (onChange)="filtrarActividades()"
              placeholder="Seleccione Tipo de Actividad"
              [style]="{ width: 'auto' }"
            />
          </p-inputGroup>
        </div>
        <div class="flex ml-3">
          <p-button
            class="flex"
            icon="pi pi-refresh"
            severity="primary"
            (click)="selectActividad = undefined; this.filtrar = this.data"
          ></p-button>
        </div>
      </div>

      <app-table-primeng
        [columnas]="columns"
        [actions]="actions"
        [data]="filtrar"
        [showCaption]="false"
        [tableStyle]="null"
        (accionBtnItem)="accionBtnItem($event)"
      ></app-table-primeng>
    </app-container-page>
  </div>
</div>
<app-form-actividades-no-lectivas
  [showModal]="showModal"
  [data]="item"
  [titulo]="titulo"
  [opcion]="opcion"
  [tiposCargaNoLectivas]="tiposCargaNoLectivas"
  [iFalta]="informacion?.iFalta"
  (accionBtnItem)="accionBtnItem($event)"
></app-form-actividades-no-lectivas>

<p-toast />

<!-- Ventana Modal de aprobación de actividad -->

<p-dialog
  header="Registrar Observacion"
  [modal]="true"
  [(visible)]="bAprobar"
  [style]="{ width: '60rem' }"
>
  <div class="flex align-items-center gap-3 mb-5 mt-5">
    <p-inputGroup>
      <p-inputGroupAddon>Observaciones de la actividad</p-inputGroupAddon>
      <textarea class="w-full" pInputTextarea [(ngModel)]="cObservacion"></textarea>
    </p-inputGroup>
  </div>
  <div class="flex justify-content-end gap-2">
    <p-button label="Cancel" severity="secondary" (onClick)="bAprobar = false" />
    <p-button label="Guardar" severity="success" (onClick)="cambioAprobacion()" />
  </div>
</p-dialog>
