<app-modal-primeng
    [title]="option + ' Bibliografía'"
    [showModal]="showModal"
    [width]="'55rem'"
    (accionBtnItem)="accionBtn($event)"
>
    <form [formGroup]="dataBibliografias" class="mt-4">
        <div class="formgrid grid">
            <div class="field col-12 md:col-4">
                <label for="">Tipo de Bibliografìa</label>
                <p-dropdown
                    styleClass="flex-auto w-full"
                    [options]="tipoBibliografias"
                    placeholder="Seleccionar Tipo"
                    optionLabel="cTipoBiblioNombre"
                    optionValue="iTipoBiblioId"
                    formControlName="iTipoBiblioId"
                />
                @if (
                    dataBibliografias
                        .get('iTipoBiblioId')
                        .hasError('required') &&
                    dataBibliografias.get('iTipoBiblioId')?.touched
                ) {
                    <small class="text-red-500">
                        Este campo es requerido.
                    </small>
                }
            </div>
            <div class="field col-12 md:col-8">
                <label for="">Autor</label>
                <input
                    pInputText
                    class="flex-auto w-full"
                    formControlName="cBiblioAutor"
                />
                @if (
                    dataBibliografias
                        .get('cBiblioAutor')
                        .hasError('required') &&
                    dataBibliografias.get('cBiblioAutor')?.touched
                ) {
                    <small class="text-red-500">
                        Este campo es requerido.
                    </small>
                }
            </div>
            <div class="field col-12 md:col-12">
                <label for="">Título</label>
                <input
                    pInputText
                    class="flex-auto w-full"
                    formControlName="cBiblioTitulo"
                />
                @if (
                    dataBibliografias
                        .get('cBiblioTitulo')
                        .hasError('required') &&
                    dataBibliografias.get('cBiblioTitulo')?.touched
                ) {
                    <small class="text-red-500">
                        Este campo es requerido.
                    </small>
                }
            </div>
            <div class="field col-12 md:col-2">
                <label for="">Año</label>
                <input
                    pInputText
                    type="number"
                    class="flex-auto w-full"
                    formControlName="cBiblioAnioEdicion"
                />
                @if (
                    dataBibliografias
                        .get('cBiblioAnioEdicion')
                        .hasError('required') &&
                    dataBibliografias.get('cBiblioAnioEdicion')?.touched
                ) {
                    <small class="text-red-500">
                        Este campo es requerido.
                    </small>
                }
            </div>
            <div class="field col-12 md:col-4">
                <label for="">Editorial</label>
                <input
                    pInputText
                    class="flex-auto w-full"
                    formControlName="cBiblioEditorial"
                />
                @if (
                    dataBibliografias
                        .get('cBiblioEditorial')
                        .hasError('required') &&
                    dataBibliografias.get('cBiblioEditorial')?.touched
                ) {
                    <small class="text-red-500">
                        Este campo es requerido.
                    </small>
                }
            </div>
            <div class="field col-12 md:col-8">
                <label for="">Url</label>
                <input
                    pInputText
                    class="flex-auto w-full"
                    formControlName="cBiblioUrl"
                />
                @if (
                    dataBibliografias.get('cBiblioUrl').hasError('required') &&
                    dataBibliografias.get('cBiblioUrl')?.touched
                ) {
                    <small class="text-red-500">
                        Este campo es requerido.
                    </small>
                }
            </div>
        </div>
    </form>
    <div class="flex justify-content-end gap-2">
        <p-button
            label="Cancelar"
            severity="secondary"
            (onClick)="accionBtn({ accion: 'close-modal', item: [] })"
        />
        <p-button
            [disabled]="this.dataBibliografias.invalid"
            [label]="option"
            (onClick)="accionBtn({ accion: option, item: [] })"
        />
    </div>
</app-modal-primeng>
