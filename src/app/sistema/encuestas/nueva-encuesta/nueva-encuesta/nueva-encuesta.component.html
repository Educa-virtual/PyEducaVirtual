<p-dialog
  header="Nueva encuesta"
  [(visible)]="visible"
  (onHide)="onHide()"
  [modal]="true"
  [closable]="true"
  [draggable]="false"
  [resizable]="false"
  styleClass="nueva-categoria-dialog"
  [style]="{ width: '1000px', height: '800px' }"
>
  <!-- Stepper -->
  <br />
  <p-steps [model]="items" [(activeIndex)]="activeIndex" [readonly]="false" class="mb-4"> </p-steps>
  <!-- Contenido del stepper -->
  <div class="step-content">
    <!-- Paso 1: Información General -->
    <div *ngIf="getCurrentStep() === 0" class="step-panel">
      <app-informacion-general [categoria]="categoria" (nextStep)="onNextFromInfoGeneral()">
      </app-informacion-general>
    </div>

    <!-- Paso 2: poblaccion-objetivo -->
    <div *ngIf="getCurrentStep() === 1" class="step-panel">
      <app-poblacion-objetivo (nextStep)="onNextFromPoblacionObjetivo()"> </app-poblacion-objetivo>
    </div>

    <!-- Navegación del stepper -->
    <div
      class="flex justify-content-between align-items-center mt-4 pt-3 border-top-1 border-gray-300"
    >
      <!-- Botón Anterior -->
      <p-button
        *ngIf="!isFirstStep()"
        label="Anterior"
        icon="pi pi-arrow-left"
        severity="secondary"
        size="small"
        (onClick)="prevStep()"
      >
      </p-button>

      <!-- Espacio vacío si es el primer paso -->
      <div *ngIf="isFirstStep()"></div>

      <!-- Botones de navegación derecha -->
      <div class="flex gap-2">
        <!-- Botón Siguiente -->
        <p-button
          *ngIf="!isLastStep()"
          label="Siguiente"
          icon="pi pi-arrow-right"
          iconPos="right"
          size="small"
          (onClick)="nextStep()"
        >
        </p-button>

        <!-- Botón Finalizar -->
        <p-button
          *ngIf="isLastStep()"
          label="Finalizar Encuesta"
          icon="pi pi-check"
          iconPos="right"
          severity="success"
          size="small"
          (onClick)="onFinish()"
        >
        </p-button>
      </div>
    </div>
  </div>
</p-dialog>
