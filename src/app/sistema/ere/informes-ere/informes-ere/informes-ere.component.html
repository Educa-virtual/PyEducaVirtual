<app-container-page
    [title]="'Resultados ERE:'"
    [actions]="[]"
    class="custom-container-page"
>
    <form [formGroup]="formFiltros">
        <div class="grid p-fluid">
            <div class="col-6">
                <p-inputGroup>
                    <p-inputGroupAddon>Evaluación *</p-inputGroupAddon>
                    <p-dropdown
                        [options]="evaluaciones"
                        formControlName="iEvaluacionId"
                        placeholder="Seleccione una evaluación"
                        styleClass="w-full"
                    />
                </p-inputGroup>
            </div>
            <div class="col-6">
                <p-inputGroup>
                    <p-inputGroupAddon>Área *</p-inputGroupAddon>
                    <p-dropdown
                        [options]="cursos"
                        formControlName="iCursoId"
                        placeholder="Seleccion un curso"
                        styleClass="w-full"
                    ></p-dropdown>
                </p-inputGroup>
            </div>
        </div>

        <p-panel header="Aplicar Filtros">
            <div class="grid p-fluid">
                <div class="col-3">
                    <p-inputGroup>
                        <p-inputGroupAddon>Nivel *</p-inputGroupAddon>
                        <p-dropdown
                            [options]="nivel_tipos"
                            formControlName="iNivelTipoId"
                            placeholder="Seleccione un nivel"
                            styleClass="w-full"
                        ></p-dropdown>
                    </p-inputGroup>
                </div>
                <div class="col-3">
                    <p-inputGroup>
                        <p-inputGroupAddon>Grado *</p-inputGroupAddon>
                        <p-dropdown
                            [options]="nivel_grados"
                            formControlName="iNivelGradoId"
                            placeholder="Seleccione un grado"
                            styleClass="w-full"
                        ></p-dropdown>
                    </p-inputGroup>
                </div>
                <div class="col-3">
                    <p-inputGroup>
                        <p-inputGroupAddon>Sección</p-inputGroupAddon>
                        <p-dropdown
                            [options]="secciones"
                            formControlName="iSeccionId"
                            placeholder="Seleccione una sección"
                            styleClass="w-full"
                        ></p-dropdown>
                    </p-inputGroup>
                </div>
                <div class="col-3">
                    <p-button
                        pRipple
                        severity="success"
                        label="Buscar"
                        icon="pi pi-fw pi-search"
                    />
                </div>
            </div>
        </p-panel>
    </form>

    <br />

    <p-panel>
        <h3 class="m-0 text-uppercase text-primary">
            Resumen de participación y nivel de logro alcanzado
        </h3>

        <br />

        <div class="flex justify-content-center">
            <p-chart type="doughnut" [data]="data" [options]="options" />
        </div>

        <div>
            <p-accordion [activeIndex]="0">
                <p-accordionTab header="Relación de Estudiantes">
                    <p-table
                        sortField="estudiante"
                        [sortOrder]="1"
                        size="small"
                    >
                        <ng-template pTemplate="header">
                            <tr>
                                <th>#</th>
                                <th>Cód. Modular</th>
                                <th>Distrito</th>
                                <th>Sección</th>
                                <th>Estudiante</th>
                                <th>Aciertos</th>
                                <th>Desaciertos</th>
                                <th>Blancos</th>
                                <th>Nivel</th>
                                <th>Docente</th>
                            </tr>
                        </ng-template>
                        <ng-template
                            class="text-sm"
                            pTemplate="body"
                            let-resultados
                            let-i="rowIndex"
                        >
                            <tr>
                                <td>{{ i }}</td>
                                <td>{{ resultados.codigo_modular }}</td>
                                <td>{{ resultados.distrito }}</td>
                                <td>{{ resultados.seccion }}</td>
                                <td>{{ resultados.estudiante }}</td>
                                <td>{{ resultados.aciertos }}</td>
                                <td>{{ resultados.desaciertos }}</td>
                                <td>{{ resultados.blancos }}</td>
                                <td>{{ resultados.nivel_alcanzado }}</td>
                                <td>{{ resultados.docente }}</td>
                            </tr>
                        </ng-template>
                    </p-table>
                </p-accordionTab>
                <p-accordionTab header="Estadisticas Avanzadas">
                    <p>
                        Sed ut perspiciatis unde omnis iste natus error sit
                        voluptatem accusantium...
                    </p>
                </p-accordionTab>
                <p-accordionTab header="Matris de Evaluación">
                    <p>At vero eos et accusamus et iusto odio dignissimos...</p>
                </p-accordionTab>
                <p-accordionTab header="Promedio Final">
                    <p>At vero eos et accusamus et iusto odio dignissimos...</p>
                </p-accordionTab>
            </p-accordion>
        </div>
    </p-panel>
</app-container-page>
