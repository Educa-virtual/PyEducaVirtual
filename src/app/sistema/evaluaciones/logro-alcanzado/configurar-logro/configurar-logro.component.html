<br />

<form [formGroup]="formEscala">
  <div class="grid">
    <div class="col-12">
      <p-inputGroup>
        <p-inputGroupAddon>Tipo de calificación</p-inputGroupAddon>
        <p-dropdown
          formControlName="iTipoCalificacionId"
          placeholder="Seleccione un tipo de calificación"
          [options]="tipos_calificacion"
          [showClear]="false"
          appendTo="body"
          [style]="{ flex: '1', width: '100%' }"
          styleClass="group-element"
        />
      </p-inputGroup>
    </div>
    @for (escala of escalas; track $index) {
      <div class="col-3" *ngIf="verInputsEscalas">
        <p-inputGroup class="vertical-group">
          <p-inputGroupAddon>Desde</p-inputGroupAddon>
          <p-inputNumber
            [formControl]="$any(controles_escalas.at($index))?.controls['nEscalaCalifMin']"
            [min]="0"
            [step]="1"
            [useGrouping]="false"
            [showButtons]="false"
            [required]="true"
            class="group-element"
          />
        </p-inputGroup>
      </div>
      <div class="col-3" *ngIf="verInputsEscalas">
        <p-inputGroup class="vertical-group">
          <p-inputGroupAddon>Hasta</p-inputGroupAddon>
          <p-inputNumber
            [formControl]="$any(controles_escalas.at($index))?.controls['nEscalaCalifMax']"
            [min]="0"
            [step]="1"
            [useGrouping]="false"
            [showButtons]="false"
            [required]="true"
            class="group-element"
          />
        </p-inputGroup>
      </div>
      <div [class]="verInputsEscalas ? 'col-6' : 'col-12'">
        <p-inputGroup class="vertical-group">
          <p-inputGroupAddon>Escala</p-inputGroupAddon>
          <input
            pInputText
            [formControl]="$any(controles_escalas.at($index))?.controls['cEscalaCalifLetraNombre']"
            type="text"
            class="group-element"
            [readOnly]="true"
            tabIndex="-1"
          />
        </p-inputGroup>
      </div>
    }
  </div>
</form>

<br />

<div class="flex justify-content-end gap-2">
  <p-button
    label="Salir sin guardar"
    severity="secondary"
    icon="pi pi-fw pi-arrow-left"
    (onClick)="salirResetearForm()"
  />
  <p-button
    label="Actualizar y salir"
    severity="success"
    icon="pi pi-fw pi-save"
    (onClick)="actualizarEscala()"
  />
</div>
