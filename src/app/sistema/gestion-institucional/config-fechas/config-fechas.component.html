<p-toast />
<app-container-page
  title="Registrar feriados nacionales"
  [actions]="nationalHolyday.container.actions"
  (accionBtnItem)="nationalHolyday.table.accionBtnItem($event)"
>
  <div class="card">
    <app-table-primeng
      [columnas]="nationalHolyday.table.columns.core"
      [showCaption]="false"
      [data]="nationalHolyday.table.data.core"
      (accionBtnItem)="nationalHolyday.table.accionBtnItem($event)"
      [actions]="nationalHolyday.table.actions"
    >
    </app-table-primeng>
  </div>
</app-container-page>

<p-dialog
  [header]="dialogs.nationalHoliday.title"
  [(visible)]="dialogs.nationalHoliday.visible"
  [style]="{ width: '56rem' }"
  [modal]="true"
>
  <form [formGroup]="form">
    <div class="grid mt-2">
      <div class="col-12 grid">
        <div class="col-10 flex flex-column gap-2">
          <label for="dtFeriado">Fecha</label>
          <p-calendar
            appendTo="body"
            [showOnFocus]="false"
            inputStyleClass="w-full"
            styleClass="w-full"
            formControlName="dtFeriado"
            [iconDisplay]="'input'"
            [showIcon]="true"
            inputId="dtFeriado"
          />
        </div>
        <div class="col flex flex-column gap-2">
          <label for="bFeriadoEsRecuperable">Es recuperable</label>
          <p-toggleButton
            formControlName="bFeriadoEsRecuperable"
            onLabel="Si"
            offLabel="No"
            styleClass="w-full"
          />
        </div>
      </div>

      <div class="col-12 flex flex-column gap-2">
        <label for="cFeriadoNombre">Nombre</label>
        <input
          pInputText
          id="cFechaImpNombre"
          formControlName="cFeriadoNombre"
          aria-describedby="cFeriadoNombre-help"
        />
      </div>

      <div class="col-12 flex flex-column gap-2">
        <label for="cDocumento">URL del documento</label>
        <input
          pInputText
          id="cDocumento"
          formControlName="cDocumento"
          aria-describedby="cDocumento-help"
        />
      </div>

      <div class="col-12">
        <p-button
          label="Guardar"
          [disabled]="form.invalid"
          styleClass="w-full"
          (onClick)="nationalHolyday.saveData()"
        />
      </div>
    </div>
  </form>
</p-dialog>

<p-dialog
  [header]="dialogs.importNationalHolyday.title"
  [(visible)]="dialogs.importNationalHolyday.visible"
  [style]="{ width: '56rem' }"
  [modal]="true"
>
  <div class="mt-3 flex flex-column gap-3">
    <div class="flex justify-content-between gap-3">
      <div class="flex gap-2">
        <app-btn-file-upload
          accept="*.xlsx"
          icon="pi pi-file-import"
          [(ngModel)]="file"
          (fileChange)="nationalHolyday.import.fileChange($event)"
        />

        <p-button
          (onClick)="nationalHolyday.import.downloadTemplate()"
          severity="info"
          icon="pi pi-file-excel"
          label="Descargar plantilla"
        />
      </div>

      <p-button
        [loading]="nationalHolyday.import.loading"
        (onClick)="nationalHolyday.import.saveData()"
        severity="success"
        [disabled]="file ? false : true"
        icon="pi pi-database"
        label="Iniciar importaciÃ³n"
      />
    </div>

    <app-table-primeng
      [columnas]="nationalHolyday.table.columns.import"
      [data]="nationalHolyday.table.data.import"
      [showCaption]="true"
      [showSortIcon]="false"
    ></app-table-primeng>
  </div>
</p-dialog>
