<div class="grid p-fluid mt-2">
    <p-toast />
    <div class="field col-12 md:col-4">
        <div
            class="p-fluid mt-1"
            style="justify-content: space-between; align-items: center"
        >
            <p-fieldset
                legend="Filtrado de datos"
                [toggleable]="true"
                [collapsed]="false"
            >
                <form [formGroup]="formFiltrado" class="grid">
                    <div class="col-12">
                        <span class="p-float-label">
                            <p-dropdown
                                [options]="servicio_educativo"
                                filterBy="cServEdNombre"
                                [filter]="true"
                                optionLabel="cServEdNombre"
                                optionValue="iServEdId"
                                formControlName="iServEdId"
                                (onChange)="
                                    getCurriculaNivelServicioEducativo()
                                "
                                styleClass="w-full"
                            >
                            </p-dropdown>
                            <label for="iServEdId">Servicio Educativo</label>
                        </span>
                    </div>

                    <div class="col-12 mt-2 grid flex align-items-end">
                        <div class="col-10">
                            <span class="p-float-label">
                                <p-dropdown
                                    [options]="grados"
                                    filterBy="cGradoAbreviacion"
                                    optionLabel="cGradoAbreviacion"
                                    [filter]="true"
                                    optionValue="iGradoId"
                                    formControlName="iGradoId"
                                    class="max-w-max"
                                    (onChange)="accionBtnItemTable($event)"
                                >
                                </p-dropdown>
                                <label for="iGradoId">Grado Académico</label>
                            </span>
                        </div>
                        <div class="col">
                            <button
                                pButton
                                type="button"
                                icon="pi pi-search"
                                class="p-button-sm p-button-primary mt-3"
                                (click)="
                                    accionBtnItemTable({
                                        accion: 'addGrado',
                                        item: '',
                                    })
                                "
                                aria-label="Agregar grado"
                            ></button>
                        </div>
                    </div>
                    <div class="field col-12">
                        <p-table
                            [value]="gradosUnicos"
                            class="p-datatable-sm"
                            responsiveLayout="scroll"
                        >
                            <ng-template pTemplate="header">
                                <tr>
                                    <th>Grado</th>
                                    <th>Estado</th>
                                </tr>
                            </ng-template>

                            <ng-template pTemplate="body" let-grado>
                                <tr>
                                    <td>{{ grado.cGradoAbreviacion }}</td>
                                    <td>
                                        <span
                                            class="p-tag"
                                            [ngClass]="{
                                                'p-tag-success':
                                                    grado.mensaje ===
                                                    'Registrado',
                                                'p-tag-warning':
                                                    grado.mensaje ===
                                                    'Pendiente',
                                            }"
                                        >
                                            {{ grado.mensaje }}
                                        </span>
                                    </td>
                                </tr>
                            </ng-template>
                        </p-table>
                    </div>
                </form>
            </p-fieldset>
            <p-fieldset
                legend="Actualización de horas"
                [toggleable]="true"
                [style]="{ width: '100%' }"
            >
                <!-- <p-avatar image="assets/images/logo-proyecto.svg" class="mr-2" size="xlarge" shape="circle" /> -->
                <form [formGroup]="formNivelGrado">
                    <div class="field col-12">
                        <span class="p-float-label">
                            <input
                                type="hidden"
                                id="iCursosNivelGradId"
                                formControlName="iCursosNivelGradId"
                                aria-describedby="iCursosNivelGradId-help"
                            />
                            <input
                                type="hidden"
                                id="iIeCursoId"
                                formControlName="iCursosNivelGradId"
                                aria-describedby="iCursosNivelGradId-help"
                            />

                            <input
                                pInputText
                                id="cCursoNombre"
                                formControlName="cCursoNombre"
                                aria-describedby="iIeCursoId-help"
                            />
                            <label for="cCursoNombre">Área curricular</label>
                        </span>
                    </div>
                    <div class="col-12 mt-2 grid flex align-items-end">
                        <div class="field col-12 md:col-4">
                            <span class="p-float-label">
                                <input
                                    pInputText
                                    id="iHorasSemPresencial"
                                    formControlName="iHorasSemPresencial"
                                    aria-describedby="iHorasSemPresencial-help"
                                />
                                <label for="iHorasSemPresencial"
                                    >Presenciales</label
                                >
                            </span>
                        </div>
                        <div class="field col-12 md:col-4">
                            <span class="p-float-label">
                                <input
                                    pInputText
                                    id="iHorasSemDomicilio"
                                    formControlName="iHorasSemDomicilio"
                                    aria-describedby="iHorasSemDomicilio-help"
                                />
                                <label for="iHorasSemDomicilio"
                                    >Domicilio</label
                                >
                            </span>
                        </div>
                        <div class="field col-12 md:col-4">
                            <span class="p-float-label">
                                <input
                                    pInputText
                                    id="iTotalHoras"
                                    formControlName="iTotalHoras"
                                    aria-describedby="iTotalHoras-help"
                                />
                                <label for="iTotalHoras">Total </label>
                            </span>
                        </div>
                    </div>
                </form>
            </p-fieldset>
        </div>

        <p-fieldset
            legend="Declaracion Jurada"
            [toggleable]="true"
            [collapsed]="true"
        >
            <div class="field col-12 md:col-8">
                <!-- <p-checkbox formControlName="cDeclaracionJurada" [binary]="true"
                  label="Declaro haber recibido los siguientes documentos" />
              <ul>
                  <p-checkbox formControlName="cDeclaracionJurada" [binary]="true" label="Copia de DNI" />
              </ul>
              <ul>
                  <p-checkbox formControlName="cDeclaracionJurada" [binary]="true"
                      label="Ficha única de matrícula" />
              </ul>
              <ul>
                  <p-checkbox formControlName="cDeclaracionJurada" [binary]="true"
                      label="Certificado de estudios" />
              </ul>
              <ul>
                  <p-checkbox formControlName="cDeclaracionJurada" [binary]="true"
                      label="Otros(CE, PAS, PN o DJ)" />
              </ul> -->
            </div>
            <div class="field col-12 md:col-4">
                <!--  <button
      pButton
      [label]="'Registrar traslado'"
      icon="pi pi-check"
      size="small"
      class="p-button-success"
      [disabled]="form.invalid"
      (click)="confirmarTraslado()"
  ></button> -->
            </div>
        </p-fieldset>
    </div>

    <div class="field col-12 md:col-8">
        <p-fieldset
            legend="Distribución de horas por grado"
            [toggleable]="true"
            [collapsed]="false"
        >
            <div class="col-12">
                @if (programacion_curricular.length > 0) {
                    <app-table-primeng
                        [columnas]="columns"
                        [showCaption]="true"
                        [data]="programacion_curricular"
                        (accionBtnItem)="accionBtnItemTable($event)"
                        [showPaginator]="true"
                        rowsPerPageOptions="10"
                        [(selectedRowData)]="selectedItems"
                        [actions]="actions"
                    >
                        <!-- <ng-container slot="caption-content"> </ng-container> -->
                    </app-table-primeng>
                } @else {
                    <img
                        src="assets/images/icons/sin-datos.gif"
                        alt="logo"
                        width="20%"
                    />
                }
                <ng-container slot="caption-content"> </ng-container>
            </div>
        </p-fieldset>

        <!-- <p-checkbox formControlName="city" value="New York" inputId="ny" label="Traslado de IE" />
      <p-checkbox formControlName="city" value="New York" inputId="ny" label="Traslado de nivel" /> -->
    </div>
</div>
