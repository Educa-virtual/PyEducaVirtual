<app-container-page
  title="Resumen de Ambientes"
  [actions]="accionesPrincipal"
  (accionBtnItem)="accionBtnItemTable($event)"
>
  <div class="card">
    <p-steps [model]="items" [readonly]="true"></p-steps>
  </div>
  <div class="card">
    <div class="grid p-fluid mt-2 card-container">
      <div class="field col-12 md:col-12">
        <app-toolbar-primeng
          title=" Resumen configuraci처n para grados y secciones de la IE {{ anio }}"
        ></app-toolbar-primeng>
      </div>

      <div class="field col-12 md:col-5">
        <div class="grid p-fluid mt-2 align-items-center">
          <!-- Primer bloque: Horas de clase y Horas pendientes -->

          <div class="field col-12 md:col-4">
            <p-inputGroup>
              <p-inputGroupAddon>Educaci처n Biling체e: {{ bConfigEsBilingue }}</p-inputGroupAddon>
            </p-inputGroup>
          </div>
          <div class="field col-12 md:col-4">
            <p-inputGroup>
              <p-inputGroupAddon>Aulas habilitadas: {{ cantidad_ambientes }}</p-inputGroupAddon>
            </p-inputGroup>
          </div>

          <div class="field col-12 md:col-4">
            <p-inputGroup>
              <p-inputGroupAddon>Grados y Secciones: {{ total_aulas }} </p-inputGroupAddon>
            </p-inputGroup>
          </div>
        </div>

        <p-panel header="Grados y secciones">
          <app-table-primeng
            [columnas]="columnSeccion"
            [data]="r_secciones"
            [showCaption]="false"
            [showPaginator]="false"
            [actions]="actions"
          >
            <!-- <ng-container slot="caption-content"> </ng-container> -->
          </app-table-primeng>
        </p-panel>
      </div>
      <div class="field col-12 md:col-7">
        <div class="grid p-fluid mt-2 align-items-center">
          <!-- Primer bloque: Horas de clase y Horas pendientes -->
          <div class="field col-12 md:col-3">
            <p-inputGroup>
              <p-inputGroupAddon>Total de horas a asignar: {{ totalHoras }}</p-inputGroupAddon>
            </p-inputGroup>
          </div>

          <div class="field col-12 md:col-3">
            <p-inputGroup>
              <p-inputGroupAddon>Horas pendientes: {{ totalHorasPendientes }}</p-inputGroupAddon>
            </p-inputGroup>
          </div>

          <!-- Segundo bloque: Total Docentes y Docentes pendientes -->
          <div class="field col-12 md:col-3">
            <p-inputGroup>
              <p-inputGroupAddon
                >Total de Docentes Asignados:
                {{ docentes_Asignados }}
              </p-inputGroupAddon>
            </p-inputGroup>
          </div>

          <div class="field col-12 md:col-3">
            <p-inputGroup>
              <p-inputGroupAddon>Docentes pendientes: {{ docentes_pendientes }} </p-inputGroupAddon>
            </p-inputGroup>
          </div>
        </div>

        <p-panel header="Resumen de horas asignadas de la I.E.">
          <table>
            <thead>
              <tr>
                <th>N째</th>
                <th>Curso</th>
                <th *ngFor="let grado of lista_grados">Grado {{ grado.cGradoNombre }}</th>
              </tr>
            </thead>
            <tbody>
              <tr *ngFor="let fila of tablaPivot; let i = index">
                <td>{{ i + 1 }}</td>
                <td>{{ fila.cursoNombre }}</td>
                <td *ngFor="let grado of lista_grados" align="center">
                  <span class="ml-2 font-medium"
                    >{{ fila['asig_' + grado.iGradoId] || 0 }}
                    de
                    {{ fila['grado_' + grado.iGradoId] || 0 }}
                  </span>
                </td>
              </tr>
            </tbody>
          </table>
        </p-panel>
      </div>
    </div>
  </div>
  <div class="flex justify-content-end">
    <p-button (onClick)="confirm()" label="Finalizar" />
  </div>
</app-container-page>
