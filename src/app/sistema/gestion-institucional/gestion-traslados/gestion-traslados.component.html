<app-container-page
    title="Gestion de solicitudes de traslado"
    [actions]="accionesPrincipal"
    (accionBtnItem)="trasladar($event)"
>
    <p-toast />
    <!-- <div class="grid p-fluid mt-2">
        <div class="field col-12 md:col-5">

        </div>
        <div class="field col-12 md:col-7"> -->
    <form [formGroup]="form">
        <p-fieldset
            legend="Filtros de busqueda"
            [toggleable]="true"
            [collapsed]="false"
        >
            <div class="grid p-fluid mt-3">
                <div class="field col-12 md:col-4">
                    <span class="p-float-label">
                        <p-dropdown
                            [style]="{ width: '100%' }"
                            [options]="tipo_traslados"
                            optionLabel="cTipoTrasladoIE"
                            optionValue="iTipoTrasladoIEId"
                            formControlName="cTipoTraslado"
                            [filter]="true"
                            id="cTipoTraslado"
                        />
                        <label for="cTipoTraslado">Tipo de Traslado</label>
                    </span>
                </div>
                <div class="field col-12 md:col-4">
                    <span class="p-float-label">
                        <p-dropdown
                            [style]="{ width: '100%' }"
                            [options]="estados"
                            optionLabel="cEstadoTraslado"
                            optionValue="iEstadoTraslado"
                            onclick="accionCboItem($event)"
                            [filter]="true"
                            id="cEstadoTraslado"
                        />
                        <label for="cEstadoTraslado">Estado de Traslado</label>
                    </span>
                </div>
                <div class="field col-12 md:col-4">
                    <span class="p-float-label">
                        <p-dropdown
                            [style]="{ width: '100%' }"
                            [options]="anio_escolar"
                            optionLabel="iYearId"
                            [filter]="true"
                            (onChange)="
                                accionCboItem($event.value, 'cAnioTraslado')
                            "
                            optionValue="iYAcadId"
                            formControlName="cAnioTraslado"
                            id="cAnioTraslado"
                        />
                        <label for="cAnioTraslado">AÃ±o destino</label>
                    </span>
                </div>
            </div>
        </p-fieldset>
        <!-- <p-checkbox formControlName="city" value="New York" inputId="ny" label="Traslado de IE" />
                <p-checkbox formControlName="city" value="New York" inputId="ny" label="Traslado de nivel" /> -->
    </form>
    <!-- </div>
    </div> -->
    <p-dialog
        [header]="title"
        [(visible)]="visible"
        [style]="{ width: '85rem' }"
        [breakpoints]="{ '1199px': '75vw', '575px': '90vw' }"
        [maximizable]="true"
    >
        @if (modal === 'interno') {
            <app-traslado-interno></app-traslado-interno>
        } @else {
            <app-traslado-externo></app-traslado-externo>
        }
    </p-dialog>

    <app-table-primeng [data]="registros_traslados" [columnas]="columns">
    </app-table-primeng>
</app-container-page>
