<div class="flex flex-column gap-4">
    <section>
        <h1>Importación masiva</h1>

        <div class="flex justify-content-between align-items-center">
            <div class="flex flex-column gap-3 w-2">
                <span>Tipo de colección:</span>
                <form [formGroup]="typeCollectionForm">
                    <p-dropdown
                        styleClass="w-full"
                        formControlName="typeCollection"
                        [options]="typeCollections"
                        optionLabel="label"
                        placeholder="Seleccione una colección"
                    />
                </form>
            </div>

            <i class="pi pi-arrow-right"></i>

            <div class="flex flex-column gap-3">
                <span>Estructura de importación:</span>
                <p-button
                    icon="pi pi-download"
                    label="Descargar plantilla"
                    (onClick)="
                        bulkDataImport.downloadCollectionTemplate(
                            typeCollectionForm.value.typeCollection
                        )
                    "
                />
            </div>

            <i class="pi pi-arrow-right"></i>

            <div class="flex flex-column gap-3">
                <span>Archivo de origen:</span>
                <app-btn-file-upload
                    accept=".xlsx"
                    formControlName="file"
                    (fileChange)="loadCollectionTemplate($event)"
                />
            </div>

            <i class="pi pi-arrow-right"></i>

            <div class="flex flex-column gap-3">
                <p-button
                    label="Iniciar importación"
                    icon="pi pi-file-import"
                    [loading]="importLoad"
                    (onClick)="chargeImportData()"
                />
            </div>
        </div>
    </section>

    <app-tab-view>
        <app-tab-panel title="Por procesar">
            <app-table-primeng
                [columnas]="columns"
                [data]="data"
                [showCaption]="false"
                [showSortIcon]="false"
            ></app-table-primeng>
        </app-tab-panel>
        <app-tab-panel title="Registrados">
            <p>Bienvenido a la pestaña de registrados.</p>
        </app-tab-panel>
        <app-tab-panel title="No registrados">
            <p>Bienvenido a la pestaña de no registrados.</p>
        </app-tab-panel>
        <app-tab-panel title="Revisar errores">
            <p>Bienvenido a la pestaña de revisar errores.</p>
        </app-tab-panel>
    </app-tab-view>
</div>
